<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2656.5px" preserveAspectRatio="none" style="width:3388px;height:2656px;" version="1.1" viewBox="0 0 3388 2656" width="3388.5px" zoomAndPan="magnify"><defs><filter height="300%" id="f1hjyphlgfweoa" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="3.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="6.0" dy="6.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="2352.1758" style="stroke:#A80036;stroke-width:1.5;" width="15" x="102" y="149.4141"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="2318.6484" style="stroke:#A80036;stroke-width:1.5;" width="15" x="700.5" y="182.9414"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="2227.5938" style="stroke:#A80036;stroke-width:1.5;" width="15" x="972" y="228.4688"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1230" y="273.9961"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="2046.0117" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1355.25" y="364.5234"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="42" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1362.75" y="422.0508"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="42" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1362.75" y="2078.9531"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1971.75" y="654.4336"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2061.75" y="911.543"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2377.5" y="744.9609"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2377.5" y="1085.625"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2377.5" y="1176.1523"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2377.5" y="1447.7344"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2377.5" y="1576.2891"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2377.5" y="1666.8164"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2377.5" y="1938.3984"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2592" y="1266.6797"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2592" y="1357.207"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2592" y="1757.3438"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2592" y="1847.8711"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2856.75" y="2176.9805"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="3182.25" y="2309.5078"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="1554.0469" style="stroke:#000000;stroke-width:3.0;" width="2132.25" x="1236" y="812.4609"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="1414.9922" style="stroke:#000000;stroke-width:3.0;" width="1820.25" x="1251" y="850.4883"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="1230.4102" style="stroke:#000000;stroke-width:3.0;" width="1790.25" x="1266" y="1024.5703"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="729.2461" style="stroke:#000000;stroke-width:3.0;" width="1760.25" x="1281" y="1515.2344"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="228.082" style="stroke:#000000;stroke-width:3.0;" width="1730.25" x="1296" y="2005.8984"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="109.5" x2="109.5" y1="134.4141" y2="2528.5898"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="708" x2="708" y1="134.4141" y2="2528.5898"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="979.5" x2="979.5" y1="134.4141" y2="2528.5898"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="1237.5" x2="1237.5" y1="134.4141" y2="2528.5898"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="1362" x2="1362" y1="134.4141" y2="2528.5898"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="1979.25" x2="1979.25" y1="134.4141" y2="2528.5898"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="2069.25" x2="2069.25" y1="134.4141" y2="2528.5898"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="2198.25" x2="2198.25" y1="134.4141" y2="2528.5898"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="2384.25" x2="2384.25" y1="134.4141" y2="2528.5898"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="2598.75" x2="2598.75" y1="134.4141" y2="2528.5898"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="2864.25" x2="2864.25" y1="587.7422" y2="2528.5898"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="3189.75" x2="3189.75" y1="134.4141" y2="2528.5898"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="150" x="30" y="129.7998">Traffic Manager</text><ellipse cx="109.5" cy="22.5" fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" rx="12" ry="12" style="stroke:#A80036;stroke-width:3.0;"/><path d="M109.5,34.5 L109.5,75 M90,46.5 L129,46.5 M109.5,75 L90,97.5 M109.5,75 L129,97.5 " fill="none" filter="url(#f1hjyphlgfweoa)" style="stroke:#A80036;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="150" x="30" y="2548.8896">Traffic Manager</text><ellipse cx="109.5" cy="2568.5039" fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" rx="12" ry="12" style="stroke:#A80036;stroke-width:3.0;"/><path d="M109.5,2580.5039 L109.5,2621.0039 M90,2592.5039 L129,2592.5039 M109.5,2621.0039 L90,2643.5039 M109.5,2621.0039 L129,2643.5039 " fill="none" filter="url(#f1hjyphlgfweoa)" style="stroke:#A80036;stroke-width:3.0;"/><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="213" x="598.5" y="79.5"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="192" x="609" y="111.7998">ShowPairsOfShipsUI</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="213" x="598.5" y="2527.0898"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="192" x="609" y="2559.3896">ShowPairsOfShipsUI</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="288" x="832.5" y="79.5"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="267" x="843" y="111.7998">ShowPairsOfShipsController</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="288" x="832.5" y="2527.0898"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="267" x="843" y="2559.3896">ShowPairsOfShipsController</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="111" x="1179" y="79.5"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="90" x="1189.5" y="111.7998">Company</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="111" x="1179" y="2527.0898"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="90" x="1189.5" y="2559.3896">Company</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="97.5" x="1311" y="53.0859"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="76.5" x="1321.5" y="85.3857">bstShip:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="72" x="1323.75" y="111.7998">BstShip</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="97.5" x="1311" y="2527.0898"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="76.5" x="1321.5" y="2559.3896">bstShip:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="72" x="1323.75" y="2585.8037">BstShip</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="66" x="1943.25" y="53.0859"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="45" x="1953.75" y="85.3857">ship:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="42" x="1955.25" y="111.7998">Ship</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="66" x="1943.25" y="2527.0898"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="45" x="1953.75" y="2559.3896">ship:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="42" x="1955.25" y="2585.8037">Ship</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="72" x="2030.25" y="53.0859"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="51" x="2040.75" y="85.3857">ship2</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="42" x="2045.25" y="111.7998">Ship</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="72" x="2030.25" y="2527.0898"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="51" x="2040.75" y="2559.3896">ship2</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="42" x="2045.25" y="2585.8037">Ship</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="144" x="2123.25" y="79.5"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="123" x="2133.75" y="111.7998">ShipLocation</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="47.4141" style="stroke:#A80036;stroke-width:2.25;" width="144" x="2123.25" y="2527.0898"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="123" x="2133.75" y="2559.3896">ShipLocation</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="187.5" x="2288.25" y="53.0859"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="166.5" x="2298.75" y="85.3857">shipLocationBST:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="163.5" x="2300.25" y="111.7998">ShipLocationBST</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="187.5" x="2288.25" y="2527.0898"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="166.5" x="2298.75" y="2559.3896">shipLocationBST:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="163.5" x="2300.25" y="2585.8037">ShipLocationBST</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="199.5" x="2496.75" y="53.0859"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="178.5" x="2507.25" y="85.3857">shipLocationBST2:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="163.5" x="2514.75" y="111.7998">ShipLocationBST</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="199.5" x="2496.75" y="2527.0898"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="178.5" x="2507.25" y="2559.3896">shipLocationBST2:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="163.5" x="2514.75" y="2585.8037">ShipLocationBST</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="288" x="2717.25" y="2527.0898"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="78" x="2822.25" y="2559.3896">infoPair:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="267" x="2727.75" y="2585.8037">TreeMap&lt;&lt;Integer, String&gt;&gt;</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="321" x="3026.25" y="53.0859"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="154.5" x="3109.5" y="85.3857">listPairsOfShips:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="300" x="3036.75" y="111.7998">List&lt;TreeMap&lt;Integer, String&gt;&gt;</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="321" x="3026.25" y="2527.0898"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="154.5" x="3109.5" y="2559.3896">listPairsOfShips:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="300" x="3036.75" y="2585.8037">List&lt;TreeMap&lt;Integer, String&gt;&gt;</text><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="2352.1758" style="stroke:#A80036;stroke-width:1.5;" width="15" x="102" y="149.4141"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="2318.6484" style="stroke:#A80036;stroke-width:1.5;" width="15" x="700.5" y="182.9414"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="2227.5938" style="stroke:#A80036;stroke-width:1.5;" width="15" x="972" y="228.4688"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1230" y="273.9961"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="2046.0117" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1355.25" y="364.5234"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="42" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1362.75" y="422.0508"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="42" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1362.75" y="2078.9531"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1971.75" y="654.4336"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2061.75" y="911.543"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2377.5" y="744.9609"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2377.5" y="1085.625"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2377.5" y="1176.1523"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2377.5" y="1447.7344"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2377.5" y="1576.2891"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2377.5" y="1666.8164"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2377.5" y="1938.3984"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2592" y="1266.6797"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2592" y="1357.207"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2592" y="1757.3438"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2592" y="1847.8711"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="2856.75" y="2176.9805"/><rect fill="#FFFFFF" filter="url(#f1hjyphlgfweoa)" height="45" style="stroke:#A80036;stroke-width:1.5;" width="15" x="3182.25" y="2309.5078"/><polygon fill="#A80036" points="682.5,176.9414,697.5,182.9414,682.5,188.9414,688.5,182.9414" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="117" x2="691.5" y1="182.9414" y2="182.9414"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="127.5" y="175.6567">1</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="538.5" x="144" y="175.6567">asks the pairs of ships with close departure/arrival coordinates</text><polygon fill="#A80036" points="954,222.4688,969,228.4688,954,234.4688,960,228.4688" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="715.5" x2="963" y1="228.4688" y2="228.4688"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="726" y="221.1841">2</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="142.5" x="742.5" y="221.1841">getPairsOfShip()</text><polygon fill="#A80036" points="1212,267.9961,1227,273.9961,1212,279.9961,1218,273.9961" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="987" x2="1221" y1="273.9961" y2="273.9961"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="997.5" y="266.7114">3</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="198" x="1014" y="266.7114">bstShip = getBstShip()</text><polygon fill="#A80036" points="1337.25,358.5234,1352.25,364.5234,1337.25,370.5234,1343.25,364.5234" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="987" x2="1346.25" y1="364.5234" y2="364.5234"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="997.5" y="357.2388">4</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="226.5" x="1014" y="357.2388">getIntendedPairsOfShips()</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1377.75" x2="1440.75" y1="410.0508" y2="410.0508"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1440.75" x2="1440.75" y1="410.0508" y2="429.5508"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1379.25" x2="1440.75" y1="429.5508" y2="429.5508"/><polygon fill="#A80036" points="1394.25,423.5508,1379.25,429.5508,1394.25,435.5508,1388.25,429.5508" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="1388.25" y="402.7661">5</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="193.5" x="1404.75" y="402.7661">listOfShips = inOrder()</text><polygon fill="#A80036" points="2699.25,552.1055,2714.25,558.1055,2699.25,564.1055,2705.25,558.1055" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:2.0,2.0;" x1="1370.25" x2="2708.25" y1="558.1055" y2="558.1055"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="1380.75" y="550.8208">6</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="66" x="1397.25" y="550.8208">create()</text><rect fill="#FEFECE" filter="url(#f1hjyphlgfweoa)" height="73.8281" style="stroke:#A80036;stroke-width:2.25;" width="288" x="2717.25" y="524.5781"/><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="78" x="2822.25" y="556.8779">infoPair:</text><text fill="#000000" font-family="sans-serif" font-size="21" lengthAdjust="spacing" textLength="267" x="2727.75" y="583.292">TreeMap&lt;&lt;Integer, String&gt;&gt;</text><polygon fill="#A80036" points="1953.75,648.4336,1968.75,654.4336,1953.75,660.4336,1959.75,654.4336" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1370.25" x2="1962.75" y1="654.4336" y2="654.4336"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="1380.75" y="647.1489">7</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="319.5" x="1397.25" y="647.1489">shipLocationBST = getShipPosition()</text><polygon fill="#A80036" points="2359.5,738.9609,2374.5,744.9609,2359.5,750.9609,2365.5,744.9609" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1370.25" x2="2368.5" y1="744.9609" y2="744.9609"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="1380.75" y="737.6763">8</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="361.5" x="1397.25" y="737.6763">travelledDistance = getTravelledDistance()</text><path d="M1236,812.4609 L1327.5,812.4609 L1327.5,824.4609 L1312.5,839.4609 L1236,839.4609 L1236,812.4609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1554.0469" style="stroke:#000000;stroke-width:3.0;" width="2132.25" x="1236" y="812.4609"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="24" x="1258.5" y="834.2036">alt</text><text fill="#000000" font-family="sans-serif" font-size="16.5" font-weight="bold" lengthAdjust="spacing" textLength="190.5" x="1350" y="832.5894">[travelledDistance &gt; 10]</text><path d="M1251,850.4883 L1360.5,850.4883 L1360.5,862.4883 L1345.5,877.4883 L1251,877.4883 L1251,850.4883 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1414.9922" style="stroke:#000000;stroke-width:3.0;" width="1820.25" x="1251" y="850.4883"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="42" x="1273.5" y="872.231">loop</text><text fill="#000000" font-family="sans-serif" font-size="16.5" font-weight="bold" lengthAdjust="spacing" textLength="90" x="1383" y="870.6167">[hasNext()]</text><polygon fill="#A80036" points="2043.75,905.543,2058.75,911.543,2043.75,917.543,2049.75,911.543" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1370.25" x2="2052.75" y1="911.543" y2="911.543"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="1380.75" y="904.2583">9</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="330" x="1397.25" y="904.2583">shipLocationBST2 = getShipPosition()</text><polygon fill="#A80036" points="2581.5,996.0703,2596.5,1002.0703,2581.5,1008.0703,2587.5,1002.0703" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1370.25" x2="2590.5" y1="1002.0703" y2="1002.0703"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1380.75" y="994.7856">10</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="372" x="1407.75" y="994.7856">travelledDistance2 = getTravelledDistance()</text><path d="M1266,1024.5703 L1357.5,1024.5703 L1357.5,1036.5703 L1342.5,1051.5703 L1266,1051.5703 L1266,1024.5703 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1230.4102" style="stroke:#000000;stroke-width:3.0;" width="1790.25" x="1266" y="1024.5703"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="24" x="1288.5" y="1046.313">alt</text><text fill="#000000" font-family="sans-serif" font-size="16.5" font-weight="bold" lengthAdjust="spacing" textLength="328.5" x="1380" y="1044.6987">[travelledDistance != travelledDistance2]</text><polygon fill="#A80036" points="2359.5,1079.625,2374.5,1085.625,2359.5,1091.625,2365.5,1085.625" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1370.25" x2="2368.5" y1="1085.625" y2="1085.625"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1380.75" y="1078.3403">11</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="261" x="1407.75" y="1078.3403">arrivalLat = getArrivalLatitude()</text><polygon fill="#A80036" points="2359.5,1170.1523,2374.5,1176.1523,2359.5,1182.1523,2365.5,1176.1523" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1370.25" x2="2368.5" y1="1176.1523" y2="1176.1523"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1380.75" y="1168.8677">12</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="280.5" x="1407.75" y="1168.8677">arrivalLog = getArrivalLongitude()</text><polygon fill="#A80036" points="2574,1260.6797,2589,1266.6797,2574,1272.6797,2580,1266.6797" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1370.25" x2="2583" y1="1266.6797" y2="1266.6797"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1380.75" y="1259.395">13</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="271.5" x="1407.75" y="1259.395">arrivalLat2 = getArrivalLatitude()</text><polygon fill="#A80036" points="2574,1351.207,2589,1357.207,2574,1363.207,2580,1357.207" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1370.25" x2="2583" y1="1357.207" y2="1357.207"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1380.75" y="1349.9224">14</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="291" x="1407.75" y="1349.9224">arrivalLog2 = getArrivalLongitude()</text><polygon fill="#A80036" points="2359.5,1441.7344,2374.5,1447.7344,2359.5,1453.7344,2365.5,1447.7344" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1370.25" x2="2368.5" y1="1447.7344" y2="1447.7344"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1380.75" y="1440.4497">15</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="688.5" x="1407.75" y="1440.4497">arrivalDistance = calculateDistance(arrivalLat, arrivalLog, arrivalLat2, arrivalLog2)</text><path d="M1281,1515.2344 L1372.5,1515.2344 L1372.5,1527.2344 L1357.5,1542.2344 L1281,1542.2344 L1281,1515.2344 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="729.2461" style="stroke:#000000;stroke-width:3.0;" width="1760.25" x="1281" y="1515.2344"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="24" x="1303.5" y="1536.9771">alt</text><text fill="#000000" font-family="sans-serif" font-size="16.5" font-weight="bold" lengthAdjust="spacing" textLength="160.5" x="1395" y="1535.3628">[arrivalDistance &lt; 5]</text><polygon fill="#A80036" points="2359.5,1570.2891,2374.5,1576.2891,2359.5,1582.2891,2365.5,1576.2891" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1370.25" x2="2368.5" y1="1576.2891" y2="1576.2891"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1380.75" y="1569.0044">16</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="274.5" x="1407.75" y="1569.0044">depLat = getLatitudeDeparture()</text><polygon fill="#A80036" points="2359.5,1660.8164,2374.5,1666.8164,2359.5,1672.8164,2365.5,1666.8164" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1370.25" x2="2368.5" y1="1666.8164" y2="1666.8164"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1380.75" y="1659.5317">17</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="294" x="1407.75" y="1659.5317">depLog = getLongitudeDeparture()</text><polygon fill="#A80036" points="2574,1751.3438,2589,1757.3438,2574,1763.3438,2580,1757.3438" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1370.25" x2="2583" y1="1757.3438" y2="1757.3438"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1380.75" y="1750.0591">18</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="285" x="1407.75" y="1750.0591">depLat2 = getLatitudeDeparture()</text><polygon fill="#A80036" points="2574,1841.8711,2589,1847.8711,2574,1853.8711,2580,1847.8711" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1370.25" x2="2583" y1="1847.8711" y2="1847.8711"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1380.75" y="1840.5864">19</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="304.5" x="1407.75" y="1840.5864">depLog2 = getLongitudeDeparture()</text><polygon fill="#A80036" points="2359.5,1932.3984,2374.5,1938.3984,2359.5,1944.3984,2365.5,1938.3984" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1370.25" x2="2368.5" y1="1938.3984" y2="1938.3984"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1380.75" y="1931.1138">20</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="466.5" x="1407.75" y="1931.1138">calculateDistance(depLat, depLog, depLat2, depLog2)</text><path d="M1296,2005.8984 L1387.5,2005.8984 L1387.5,2017.8984 L1372.5,2032.8984 L1296,2032.8984 L1296,2005.8984 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="228.082" style="stroke:#000000;stroke-width:3.0;" width="1730.25" x="1296" y="2005.8984"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="24" x="1318.5" y="2027.6411">alt</text><text fill="#000000" font-family="sans-serif" font-size="16.5" font-weight="bold" lengthAdjust="spacing" textLength="141" x="1410" y="2026.0269">[depDistance &lt; 5]</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1377.75" x2="1440.75" y1="2066.9531" y2="2066.9531"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1440.75" x2="1440.75" y1="2066.9531" y2="2086.4531"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1379.25" x2="1440.75" y1="2086.4531" y2="2086.4531"/><polygon fill="#A80036" points="1394.25,2080.4531,1379.25,2086.4531,1394.25,2092.4531,1388.25,2086.4531" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1388.25" y="2059.6685">21</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="553.5" x="1415.25" y="2059.6685">travelDistanceDifference = travelledDistance2 - travelledDistance</text><polygon fill="#A80036" points="2838.75,2170.9805,2853.75,2176.9805,2838.75,2182.9805,2844.75,2176.9805" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1370.25" x2="2847.75" y1="2176.9805" y2="2176.9805"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1380.75" y="2169.6958">22</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="399" x="1407.75" y="2169.6958">put(travelDistanceDifference, stringWithAllInfo)</text><polygon fill="#A80036" points="3164.25,2303.5078,3179.25,2309.5078,3164.25,2315.5078,3170.25,2309.5078" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1370.25" x2="3173.25" y1="2309.5078" y2="2309.5078"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1380.75" y="2302.2231">23</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="108" x="1407.75" y="2302.2231">add(infoPair)</text><polygon fill="#A80036" points="1003.5,2404.5352,988.5,2410.5352,1003.5,2416.5352,997.5,2410.5352" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:2.0,2.0;" x1="994.5" x2="1361.25" y1="2410.5352" y2="2410.5352"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1012.5" y="2403.2505">24</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="139.5" x="1039.5" y="2403.2505">listPairsOfShips</text><polygon fill="#A80036" points="732,2450.0625,717,2456.0625,732,2462.0625,726,2456.0625" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:2.0,2.0;" x1="723" x2="978" y1="2456.0625" y2="2456.0625"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="741" y="2448.7778">25</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="139.5" x="768" y="2448.7778">listPairsOfShips</text><polygon fill="#A80036" points="126,2495.5898,111,2501.5898,126,2507.5898,120,2501.5898" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;stroke-dasharray:2.0,2.0;" x1="117" x2="706.5" y1="2501.5898" y2="2501.5898"/><text fill="#000000" font-family="sans-serif" font-size="19.5" font-weight="bold" lengthAdjust="spacing" textLength="21" x="135" y="2494.3052">26</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacing" textLength="270" x="162" y="2494.3052">shows successfully information</text><!--MD5=[9fedca81ae86b848d5c0520f100b3b6e]
@startuml


autonumber
actor "Traffic Manager" as TM

participant "ShowPairsOfShipsUI" as UI
participant "ShowPairsOfShipsController" as CTRL
participant "Company" as COMP
participant "bstShip:\nBstShip" as BstShip
participant "ship:\nShip" as S
participant "ship2\nShip" as S2
participant "ShipLocation" as SP
participant "shipLocationBST:\nShipLocationBST" as BstPosition
participant "shipLocationBST2:\nShipLocationBST" as BstPosition2
participant "infoPair:\nTreeMap<<Integer, String>>" as TREEMAP
participant "listPairsOfShips:\nList<TreeMap<Integer, String>>" as LIST


activate TM
TM -> "UI" : asks the pairs of ships with close departure/arrival coordinates
activate "UI"
UI -> CTRL : getPairsOfShip()
activate CTRL
CTRL -> COMP : bstShip = getBstShip()
activate COMP
deactivate COMP
CTRL -> BstShip : getIntendedPairsOfShips()
/'decide what kind of list'/
activate BstShip
BstShip -> BstShip : listOfShips = inOrder()
activate BstShip
deactivate BstShip
loop for each Ship in ListOfShips
BstShip - -> TREEMAP** : create()
BstShip -> S : shipLocationBST = getShipPosition()
activate S
deactivate S
BstShip -> BstPosition : travelledDistance = getTravelledDistance()
activate BstPosition
deactivate BstPosition
alt travelledDistance > 10
loop hasNext()
BstShip -> S2 : shipLocationBST2 = getShipPosition()
activate S2
deactivate S2
BstShip -> BstPosition2 : travelledDistance2 = getTravelledDistance()
alt travelledDistance != travelledDistance2
BstShip -> BstPosition : arrivalLat = getArrivalLatitude()
activate BstPosition
deactivate BstPosition
BstShip -> BstPosition : arrivalLog = getArrivalLongitude()
activate BstPosition
deactivate BstPosition
BstShip -> BstPosition2 : arrivalLat2 = getArrivalLatitude()
activate BstPosition2
deactivate BstPosition2
BstShip -> BstPosition2 : arrivalLog2 = getArrivalLongitude()
activate BstPosition2
deactivate BstPosition2
BstShip -> BstPosition : arrivalDistance = calculateDistance(arrivalLat, arrivalLog, arrivalLat2, arrivalLog2)
activate BstPosition
deactivate BstPosition
alt arrivalDistance < 5
BstShip -> BstPosition : depLat = getLatitudeDeparture()
activate BstPosition
deactivate BstPosition
BstShip -> BstPosition : depLog = getLongitudeDeparture()
activate BstPosition
deactivate BstPosition
BstShip -> BstPosition2 : depLat2 = getLatitudeDeparture()
activate BstPosition2
deactivate BstPosition2
BstShip -> BstPosition2 : depLog2 = getLongitudeDeparture()
activate BstPosition2
deactivate BstPosition2
BstShip -> BstPosition : calculateDistance(depLat, depLog, depLat2, depLog2)
activate BstPosition
deactivate BstPosition
alt depDistance < 5
BstShip -> BstShip: travelDistanceDifference = travelledDistance2 - travelledDistance
activate BstShip
deactivate BstShip
BstShip -> TREEMAP : put(travelDistanceDifference, stringWithAllInfo)
activate TREEMAP
deactivate TREEMAP
end
end
end
end
BstShip -> LIST : add(infoPair)
activate LIST
deactivate LIST
end

BstShip - -> CTRL : listPairsOfShips
deactivate BstShip
CTRL - -> UI : listPairsOfShips
deactivate CTRL
"UI" - -> TM : shows successfully information

deactivate "UI"





deactivate TM

@enduml

@startuml


autonumber
actor "Traffic Manager" as TM

participant "ShowPairsOfShipsUI" as UI
participant "ShowPairsOfShipsController" as CTRL
participant "Company" as COMP
participant "bstShip:\nBstShip" as BstShip
participant "ship:\nShip" as S
participant "ship2\nShip" as S2
participant "ShipLocation" as SP
participant "shipLocationBST:\nShipLocationBST" as BstPosition
participant "shipLocationBST2:\nShipLocationBST" as BstPosition2
participant "infoPair:\nTreeMap<<Integer, String>>" as TREEMAP
participant "listPairsOfShips:\nList<TreeMap<Integer, String>>" as LIST


activate TM
TM -> "UI" : asks the pairs of ships with close departure/arrival coordinates
activate "UI"
UI -> CTRL : getPairsOfShip()
activate CTRL
CTRL -> COMP : bstShip = getBstShip()
activate COMP
deactivate COMP
CTRL -> BstShip : getIntendedPairsOfShips()
activate BstShip
BstShip -> BstShip : listOfShips = inOrder()
activate BstShip
deactivate BstShip
loop for each Ship in ListOfShips
BstShip - -> TREEMAP** : create()
BstShip -> S : shipLocationBST = getShipPosition()
activate S
deactivate S
BstShip -> BstPosition : travelledDistance = getTravelledDistance()
activate BstPosition
deactivate BstPosition
alt travelledDistance > 10
loop hasNext()
BstShip -> S2 : shipLocationBST2 = getShipPosition()
activate S2
deactivate S2
BstShip -> BstPosition2 : travelledDistance2 = getTravelledDistance()
alt travelledDistance != travelledDistance2
BstShip -> BstPosition : arrivalLat = getArrivalLatitude()
activate BstPosition
deactivate BstPosition
BstShip -> BstPosition : arrivalLog = getArrivalLongitude()
activate BstPosition
deactivate BstPosition
BstShip -> BstPosition2 : arrivalLat2 = getArrivalLatitude()
activate BstPosition2
deactivate BstPosition2
BstShip -> BstPosition2 : arrivalLog2 = getArrivalLongitude()
activate BstPosition2
deactivate BstPosition2
BstShip -> BstPosition : arrivalDistance = calculateDistance(arrivalLat, arrivalLog, arrivalLat2, arrivalLog2)
activate BstPosition
deactivate BstPosition
alt arrivalDistance < 5
BstShip -> BstPosition : depLat = getLatitudeDeparture()
activate BstPosition
deactivate BstPosition
BstShip -> BstPosition : depLog = getLongitudeDeparture()
activate BstPosition
deactivate BstPosition
BstShip -> BstPosition2 : depLat2 = getLatitudeDeparture()
activate BstPosition2
deactivate BstPosition2
BstShip -> BstPosition2 : depLog2 = getLongitudeDeparture()
activate BstPosition2
deactivate BstPosition2
BstShip -> BstPosition : calculateDistance(depLat, depLog, depLat2, depLog2)
activate BstPosition
deactivate BstPosition
alt depDistance < 5
BstShip -> BstShip: travelDistanceDifference = travelledDistance2 - travelledDistance
activate BstShip
deactivate BstShip
BstShip -> TREEMAP : put(travelDistanceDifference, stringWithAllInfo)
activate TREEMAP
deactivate TREEMAP
end
end
end
end
BstShip -> LIST : add(infoPair)
activate LIST
deactivate LIST
end

BstShip - -> CTRL : listPairsOfShips
deactivate BstShip
CTRL - -> UI : listPairsOfShips
deactivate CTRL
"UI" - -> TM : shows successfully information

deactivate "UI"





deactivate TM

@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>